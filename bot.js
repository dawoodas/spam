const Discord = require('discord.js');
const client = new Discord.Client();

client.on('ready', () => {
  console.log('I am ready!');
});
client.on('message',async message => {//Toxic Code
  if(message.author.bot || message.channel.type === '*bc') return;
  let args = message.content.split(' ');
  if(args[0] === `*bc`) {//Toxic Code
    if(!message.member.hasPermission("MANAGE_GUILD")) return message.channel.send('- **??? ?? ???? ????????? ??????? ???????? ??? ?????**');
    if(!args[1]) return message.channel.send('- **??? ???? ????? ??????? ??? ?????**');
 
    let msgCount = 0;
    let errorCount = 0;
    let successCount = 0;
    message.channel.send(`**- [ :bookmark: :: ${msgCount} ] ??? ??????? ???????**\n**- [ :inbox_tray: :: ${successCount} ] ??? ??????? ????????**\n**- [ :outbox_tray: :: ${errorCount} ]??? ??????? ????? ??????**`).then(msg => {//Toxic Code
      message.guild.members.forEach(g => {//Toxic Code
        g.send(args.slice(1).join(' ')).then(() => {//Toxic Code
          successCount++;
          msgCount++;
          msg.edit(`**- [ :bookmark: :: ${msgCount} ] ??? ??????? ???????**\n**- [ :inbox_tray: :: ${successCount} ] ??? ??????? ????????**\n**- [ :outbox_tray: :: ${errorCount} ]??? ??????? ????? ??????**`);
        }).catch(e => {
          errorCount++;
          msgCount++;
          msg.edit(`**- [ :bookmark: :: ${msgCount} ] ??? ??????? ???????**\n**- [ :inbox_tray: :: ${successCount} ] ??? ??????? ????????**\n**- [ :outbox_tray: :: ${errorCount} ]??? ??????? ????? ??????**`);//Toxic Code
        });//Toxic Code
      });//Toxic Code
    });//Toxic Code
  }
});//Toxic Code
 
client.login('NTI3MTAxNjc2NjA4NDIxODg5.DwO2mQ.ch0-6Pm7vE7Sz3TmdcJtTwTKoEU');